function(e,t,s){"use strict";var n=s(70525),l=s(57016),o=s(83380),a=s(25566);let r=(0,l.q)({retryCount:0});class i{async fetch(e,t){var s,l;let o=(null==t?void 0:t.ssr)?(0,n.b)(this.ssrBaseUrl,e):(0,n.b)(this.apiPath,e),a=(null==t?void 0:t.params)?this.toQuerystring(t.params):"",i={...this.headers,...null!==(s=null==t?void 0:t.headers)&&void 0!==s?s:{}},d=(null==t?void 0:t.ssr)?{...t,cache:"no-store"}:t,h=await r.fetch(o+a,{...d,headers:i});return(null==t?void 0:t.withDate)===!0?{data:null==h?void 0:h.data,date:null==h?void 0:null===(l=h.headers)||void 0===l?void 0:l.get("Date")}:h.data}replacePathParams(e,t){return Object.keys(t).reduce((e,s)=>e.replace("{".concat(s,"}"),t[s]),e)}toQuerystring(e){let t=this.transformObject(e),s=Object.entries(t).filter(e=>{let[s]=e;return void 0!==t[s]&&null!==t[s]}).map(e=>{let[t,s]=e;return Array.isArray(s)?s.map(e=>"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))).join("&"):"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(s))}).join("&");return s?"?".concat(s):""}transformObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s={};for(let[n,l]of Object.entries(e)){let e=t?"".concat(t,".").concat(n):n;"object"!=typeof l||null===l||Array.isArray(l)?Array.isArray(l)?l.forEach(t=>{"object"==typeof t&&null!==t?Object.entries(this.transformObject(t,e)).forEach(e=>{let[t,n]=e;t in s?s[t].push(n):s[t]=[n]}):e in s&&Array.isArray(s[e])?s[e].push(t):s[e]=[t]}):s[e]=l:Object.assign(s,this.transformObject(l,e))}return s}getErrorCodeAndFields(e){var t,s;let{code:n,fields:l}=(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.details)||void 0===t?void 0:t[0])||{};return{code:n,fields:l}}makeToastErrorAction(e){return{type:"toast",message:e}}makeInputErrorAction(e){return{type:"input",message:e}}get getBaseUrl(){return this.baseURL}get getApiPath(){return this.apiPath}get getSsrBaseUrl(){return this.ssrBaseUrl}constructor(e){this.baseURL="".concat("true"===a.env.NEXT_PUBLIC_ACTIVE_MOCK_API?"http://localhost:3003":o.GW),this.ssrBaseUrl="/".concat(o.GW),this.apiPath=this.baseURL,this.headers={"Content-Type":"application/json"},(null==e?void 0:e.basePath)&&(this.baseURL=e.basePath),(null==e?void 0:e.ssrBaseUrl)&&(this.ssrBaseUrl=e.ssrBaseUrl),(null==e?void 0:e.headers)&&(this.headers={...this.headers,...e.headers})}}t.Z=i}